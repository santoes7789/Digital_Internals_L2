{% extends 'base.html' %}

{% block content %}
	{% if user.is_authenticated %}
		<div class="d-flex justify-content-center vw-100 z-0 pt-3">
			<div class="w-50 mw-500px">
				<div class="dropdown text-center">
					<h2 class="d-inline">Statistics for: </h2>
					<h1 id="session-text" type="button" class="d-inline dropdown-toggle hover-blue fw-bold" data-bs-toggle="dropdown">3x3</h1>
					<ul class="session-dropdown-container dropdown-menu no-min-width p-1">
						<div id="session-dropdown">
						</div>
					</ul>
				</div>

				<canvas id="myChart"></canvas>


				<div class="d-flex">
					<div class="vr"></div>
					<div class="p-3">
						<h5 class="text-primary">Best</h5>
						<div class="d-flex mx-3">
							<div class="text-end">
								<p>Single:</p>
								<p>Ao5:</p>
								<p>Ao12:</p>
							</div>
							<div class="text-start ms-2">
								<strong id="single-best-text">--</strong><br>
								<strong id="ao5-best-text">--</strong><br>
								<strong id="ao12-best-text">--</strong><br>
							</div>
						</div>
					</div>
					<div class="vr"></div>

					<div class="d-flex align-self-start flex-column gap-2 h-100">
						<div class="p-3">
							<h5 class="text-primary text-nowrap">Success rate</h5>
							<h3 class="ms-2" id="success-rate-text">--%</h3>
						</div>
						<hr>
						<div class="p-3 pb-4">
							<h5 class="text-primary">Consistency</h5>
							<h3 class="ms-2" id="consistency-text">--</h3>
						</div>
					</div>
					<div class="vr"></div>

					<div class="d-flex flex-column p-3 mh-250px">
						<h5 class="text-primary">Times</h5>
						<div class="overflow-auto">
							<div class="d-flex flex-wrap justify-content-evenly" id="times-table">
							</div>
						</div>
					</div>
					<div class="vr ms-auto"></div>
				</div>

			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
		<script type="module" src="static/js/stats_ui.js"></script>
		{% else %}
		<div class="d-flex justify-content-center align-items-center vw-100 vh-100 fixed-top z-0">
			<h1>Please log in to view your statistics!</h1>
		</div>
	{% endif %}
{% endblock %}
